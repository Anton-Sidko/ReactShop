{"version":3,"sources":["components/Header.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/Alert.jsx","components/Main.jsx","config.js","components/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodsItem","props","mainId","name","displayName","description","displayDescription","price","regularPrice","preview","displayAssets","full_background","addToCart","Function","prototype","src","alt","onClick","GoodsList","goods","length","map","item","slice","Cart","quantity","handleCartShow","CartItem","removeFromCart","changeQuantityItem","CartList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Main","useState","setGoods","loading","setLoading","setOrder","isCartShow","setCartShow","alertName","setAlertName","document","body","style","overflow","querySelector","webkitFilter","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","n","newQuantity","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.41c636d9.chunk.js","sourcesContent":["function Header() {\n    return <nav className=\"indigo lighten-2\">\n        <div className=\"nav-wrapper\">\n            <a href=\"!#\" className=\"brand-logo\">React Shop</a>\n            <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                <li><a href=\"https://github.com/Anton-Sidko/ReactShop\">Repo</a></li>\n            </ul>\n        </div>\n    </nav>\n}\n\nexport {Header}","function Preloader() {\n    return (\n        <div className=\"progress\">\n                <div className=\"indeterminate\"></div>\n        </div>\n    );\n}\n\nexport {Preloader};","function GoodsItem(props) {\n    const {\n        mainId : id,\n        displayName : name,\n        displayDescription : description,\n        price : {\n            regularPrice : price,\n        },\n        displayAssets : [{\n            full_background : preview\n        }],\n        addToCart = Function.prototype,\n    } = props;\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-image\">\n                <img src={preview} alt={name}/>\n            </div>\n            <div className=\"card-content\">\n            <span className=\"card-title\">{name}</span>\n            <p>{description}</p>\n            </div>\n            <div className=\"card-action\">\n                <button className=\"btn\"\n                        onClick={() =>\n                            addToCart({\n                                id,\n                                name,\n                                price,\n                                preview\n                            })\n                    }>Купить\n                </button>\n                <span className=\"right price\">{price} V</span>\n            </div>\n        </div>\n    );\n}\n\nexport {GoodsItem};","import {GoodsItem} from './GoodsItem';\n\nfunction GoodsList(props) {\n    const {goods = [], addToCart = Function.prototype} = props;\n\n    if (!goods.length ) {\n        return (\n            <h3>Nothing here</h3>\n        );\n    }\n\n    return (\n        <div className=\"goods-list\">\n            {goods.map(item => (\n                <GoodsItem key={item.mainId} {...item} addToCart={addToCart}/>\n            )).slice(0,12)}\n        </div>\n    );\n\n}\n\nexport {GoodsList};","function Cart(props) {\n    const {quantity = 0, handleCartShow = Function.prototype} = props;\n\n    return (\n        <div\n            className=\"cart #009688 teal white-text\"\n            onClick={handleCartShow}\n        >\n            <i className=\"material-icons cart-icon\">shopping_cart</i>\n            { quantity ? (\n                <span className=\"cart-quantity\">{quantity}</span> ) : (\n                null\n            )}\n        </div>\n    );\n}\n\nexport {Cart};","function CartItem(props) {\n    const {\n        id,\n        name,\n        price,\n        quantity,\n        preview,\n        removeFromCart = Function.prototype,\n        changeQuantityItem = Function.prototype\n    } = props;\n\n    return (\n        <li className=\"collection-item cart-list-item\">\n            <div className=\"list-item-wrap\">\n                <div className=\"cart-list-img\">\n                    <img src={preview} alt={name} />\n                </div>\n                {\n                    quantity ? (\n                        <div>\n                            {name} x {quantity} = {price * quantity} V\n                        </div>\n                    ) : (\n                        <div className=\"deep-orange-text text-darken-3\">\n                            {name} x {quantity} = {price * quantity} V (Нулевое количество товара. Добавьте количество или удалите товар из корзины)\n                        </div>\n                    )\n                }\n            </div>\n            <div className=\"control-list-item\">\n                <div className=\"change-quantity-wrap\">\n                    <button className=\"change-quantity-item\" onClick={() => changeQuantityItem(id, 1)}>+</button>\n                    <button className=\"change-quantity-item\" onClick={() => changeQuantityItem(id, -1)}>-</button>\n                </div>\n                <span className=\"secondary-content\" onClick={() => removeFromCart(id)}>\n                    <i className=\"material-icons\">remove_shopping_cart</i>\n                </span>\n            </div>\n        </li>\n    )\n}\n\nexport {CartItem};","import {CartItem} from './CartItem';\n\nfunction CartList(props) {\n    const {\n        order = [],\n        handleCartShow = Function.prototype,\n        removeFromCart = Function.prototype,\n        changeQuantityItem = Function.prototype\n    } = props;\n\n    const totalPrice = order.reduce((sum, el) => {\n        return sum + el.price * el.quantity;\n    }, 0);\n\n    return (\n        <ul className=\"collection cart-list\">\n            <li className=\"collection-item active cart-list-item\">Корзина\n                <i className=\"material-icons\" onClick={handleCartShow}>close</i>\n            </li>\n            {\n                order.length ? (\n                    order.map(item => (\n                        <CartItem\n                            key={item.id}\n                            removeFromCart={removeFromCart}\n                            changeQuantityItem={changeQuantityItem}\n                            {...item}\n                        />\n                    ))) : (\n                        <li className=\"collection-item\">\n                            Корзина пуста\n                        </li>\n                    )\n            }\n            <li className=\"collection-item active cart-list-item\">\n                Общая стоимость: {totalPrice} V\n                <button className=\"secondary-content btn indigo lighten-2\">Оформить заказ</button>\n            </li>\n        </ul>\n    )\n}\n\nexport {CartList};","import {useEffect} from 'react';\n\nfunction Alert(props) {\n    const {name = '', closeAlert = Function.prototype} = props;\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 3000);\n\n        return () => {\n            clearTimeout(timerId);\n        }\n        // eslint-disable-next-line\n    }, [name]);\n\n    return (\n        <div id=\"toast-container\">\n            <div className=\"toast\">{name} добавлен в корзину</div>\n        </div>\n    );\n}\n\nexport {Alert};","import {useState, useEffect} from 'react';\nimport {API_KEY, API_URL} from '../config';\n\nimport {Preloader} from './Preloader';\nimport {GoodsList} from './GoodsList';\nimport {Cart} from './Cart';\nimport {CartList} from './CartList';\nimport {Alert} from './Alert';\n\n\nfunction Main() {\n    const [goods, setGoods] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [order, setOrder] = useState([]);\n    const [isCartShow, setCartShow] = useState(false);\n    const [alertName, setAlertName] = useState ('');\n\n    const addToCart = (item) => {\n        const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\n\n        if (itemIndex < 0) {\n            const newItem = {\n                ...item,\n                quantity: 1,\n            };\n            setOrder([...order, newItem]);\n        } else {\n            const newOrder = order.map((orderItem, index) => {\n                if (index === itemIndex) {\n                    return {\n                        ...orderItem,\n                        quantity: orderItem.quantity + 1\n                    }\n                } else {\n                    return orderItem;\n                }\n            })\n            setOrder(newOrder);\n        }\n        setAlertName(item.name);\n    };\n\n    const removeFromCart = (itemId) => {\n        const newOrder = order.filter(el => el.id !== itemId);\n        setOrder(newOrder);\n    };\n\n    const changeQuantityItem = (itemId, n) => {\n        const newOrder = order.map(el => {\n            if (el.id === itemId) {\n                const newQuantity = el.quantity + n;\n                return {\n                    ...el,\n                    quantity: newQuantity > 0 ? newQuantity : 0\n                }\n            } else {\n                return el;\n            }\n        });\n\n        setOrder(newOrder);\n    };\n\n    const handleCartShow = () => {\n        setCartShow(!isCartShow);\n        if (!isCartShow) {\n            document.body.style.overflow='hidden';\n            document.querySelector('.goods-list').style.webkitFilter = 'blur(10px)';\n        } else {\n            document.body.style.overflow='';\n            document.querySelector('.goods-list').style.webkitFilter = '';\n        }\n    };\n\n    const closeAlert = () => {\n        setAlertName('');\n    };\n\n    useEffect(function getGoods() {\n        fetch(API_URL, {\n                headers: {\n                    Authorization: API_KEY,\n                }\n            })\n        .then(response => response.json())\n        .then(data => {\n            data.shop && setGoods(data.shop);\n            setLoading(false);\n        })\n    }, []);\n\n    return (\n        <main className=\"container\">\n            <Cart quantity={order.length} handleCartShow={handleCartShow} />\n            {loading ? (\n                <Preloader /> ) : (\n                <GoodsList goods={goods} addToCart={addToCart}/>\n            )}\n            {\n                isCartShow && (\n                <CartList\n                    order={order}\n                    handleCartShow={handleCartShow}\n                    removeFromCart={removeFromCart}\n                    changeQuantityItem={changeQuantityItem}\n                />)\n            }\n            {\n                alertName && <Alert name={alertName} closeAlert={closeAlert}/>\n            }\n        </main>\n    );\n}\n\nexport {Main};","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = ' https://fortniteapi.io/v2/shop?lang=ru';\n\n\nexport {\n    API_KEY,\n    API_URL\n}","function Footer() {\n    return <footer className=\"page-footer indigo lighten-3\">\n        <div className=\"footer-copyright indigo lighten-3\">\n            <div className=\"container\">\n                © {new Date().getFullYear()} Copyright Text\n                <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/Anton-Sidko/ReactShop\">Repo</a>\n            </div>\n        </div>\n    </footer>\n}\n\nexport {Footer}","import {Header} from './components/Header';\nimport {Main} from './components/Main';\nimport {Footer} from './components/Footer';\n\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Main />\n      <Footer />\n    </>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}